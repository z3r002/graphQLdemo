{"ast":null,"code":"var _s = $RefreshSig$();\n\n// import React from 'react';\n// import {Query} from \"react-apollo\";\n// import gql from \"graphql-tag\";\n//\n//\n// const GetCats = () => (\n//     <Query query={gql`\n//    query{\n//   cats{\n//     id\n//     name\n//   }\n// }\n// `}>\n//         {({loading, error, data}) => {\n//             console.log('data', data)\n//             if (loading) return <p>Loading...</p>;\n//             if (error) return <p>Error :(</p>;\n//\n//             return (\n//                 <ul>\n//                     {data.cats.map(({id, name}) => (\n//                         <li key={id}>{name ? name : 'incognoito'}</li>\n//                     ))}\n//                 </ul>\n//             );\n//         }}\n//\n//     </Query>\n// );\n// export default GetCats\nimport { gql, useQuery, useMutation } from '@apollo/client';\nimport React from \"react\";\nconst GET_Cats = gql`\n    query{\n        cats{\n            id\n            name\n      }\n    }\n`;\nconst ADD_CAT = gql`\n    mutation($name : String!) {\n        createCat(name: $name) {\n            id\n            name\n        }\n    }\n`;\nexport default function GetCats() {\n  _s();\n\n  let input;\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_Cats);\n  const [addCat] = useMutation(ADD_CAT);\n  if (loading) return 'Loading...';\n  if (error) return `Error! ${error.message}`; // return (\n  //     <div key={id}>\n  //         <form\n  //             onSubmit={e => {\n  //                 e.preventDefault();\n  //                 addCat({variables:{name: input.value}});\n  //                 input.value = '';\n  //             }}>\n  //             <input ref={node =>{\n  //                 input = node;\n  //             }}/>\n  //             <button type=\"submit\">Add Cat</button>\n  //         </form>\n  //\n  //     <ul>\n  //         {data.cats.map(({id, name}) => (\n  //             <li key={id} value={name}>\n  //                 {name}\n  //             </li>\n  //         ))}\n  //     </ul>\n  //     </div>\n  //\n  // );\n}\n\n_s(GetCats, \"dZsYA1w/TcHNZqpeypTCzop9Q8g=\", false, function () {\n  return [useQuery, useMutation];\n});\n\n_c = GetCats;\n\nvar _c;\n\n$RefreshReg$(_c, \"GetCats\");","map":{"version":3,"sources":["/home/zer00/works/web/graphqlapp/src/GetCats.js"],"names":["gql","useQuery","useMutation","React","GET_Cats","ADD_CAT","GetCats","input","loading","error","data","addCat","message"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,GAAT,EAAcC,QAAd,EAAwBC,WAAxB,QAA2C,gBAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,MAAMC,QAAQ,GAAGJ,GAAI;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;AAQA,MAAMK,OAAO,GAAGL,GAAI;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;AAQA,eAAe,SAASM,OAAT,GAAmB;AAAA;;AAC9B,MAAIC,KAAJ;AACA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BT,QAAQ,CAACG,QAAD,CAAzC;AACA,QAAM,CAACO,MAAD,IAAYT,WAAW,CAACG,OAAD,CAA7B;AAEA,MAAIG,OAAJ,EAAa,OAAO,YAAP;AACb,MAAIC,KAAJ,EAAW,OAAQ,UAASA,KAAK,CAACG,OAAQ,EAA/B,CANmB,CAQ9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;GAhCuBN,O;UAEaL,Q,EACfC,W;;;KAHEI,O","sourcesContent":["// import React from 'react';\n// import {Query} from \"react-apollo\";\n// import gql from \"graphql-tag\";\n//\n//\n// const GetCats = () => (\n//     <Query query={gql`\n//    query{\n//   cats{\n//     id\n//     name\n//   }\n// }\n// `}>\n//         {({loading, error, data}) => {\n//             console.log('data', data)\n//             if (loading) return <p>Loading...</p>;\n//             if (error) return <p>Error :(</p>;\n//\n//             return (\n//                 <ul>\n//                     {data.cats.map(({id, name}) => (\n//                         <li key={id}>{name ? name : 'incognoito'}</li>\n//                     ))}\n//                 </ul>\n//             );\n//         }}\n//\n//     </Query>\n// );\n// export default GetCats\nimport { gql, useQuery, useMutation } from '@apollo/client';\nimport React from \"react\";\nconst GET_Cats = gql`\n    query{\n        cats{\n            id\n            name\n      }\n    }\n`;\nconst ADD_CAT = gql`\n    mutation($name : String!) {\n        createCat(name: $name) {\n            id\n            name\n        }\n    }\n`;\nexport default function GetCats() {\n    let input;\n    const { loading, error, data } = useQuery(GET_Cats);\n    const [addCat,] = useMutation(ADD_CAT);\n\n    if (loading) return 'Loading...';\n    if (error) return `Error! ${error.message}`;\n\n    // return (\n    //     <div key={id}>\n    //         <form\n    //             onSubmit={e => {\n    //                 e.preventDefault();\n    //                 addCat({variables:{name: input.value}});\n    //                 input.value = '';\n    //             }}>\n    //             <input ref={node =>{\n    //                 input = node;\n    //             }}/>\n    //             <button type=\"submit\">Add Cat</button>\n    //         </form>\n    //\n    //     <ul>\n    //         {data.cats.map(({id, name}) => (\n    //             <li key={id} value={name}>\n    //                 {name}\n    //             </li>\n    //         ))}\n    //     </ul>\n    //     </div>\n    //\n    // );\n}\n\n"]},"metadata":{},"sourceType":"module"}